<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
        content="One Fav — al je favoriete apps en workspaces op 1 plek. Snel zoeken, pinnen en organiseren." />
    <meta property="og:title" content="One Fav — Mijn Favorieten" />
    <meta property="og:description"
        content="One Fav — al je favoriete apps en workspaces op 1 plek. Snel zoeken, pinnen en organiseren." />
    <meta property="og:type" content="website" />
    <title>One Fav - All je Favorieten op 1 plek!</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <!-- Tailwind via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom styles -->
    <link rel="stylesheet" href="styles.css" />
    <!-- SortableJS for drag and drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js" defer></script>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col antialiased transition-colors duration-200">
    <!-- Achtergrond: wissel tussen wit en grijs -->
    <!-- bg-white = wit | bg-gray-100 = lichtgrijs -->
    <!-- <body class="min-h-screen bg-gray-100 antialiased transition-colors duration-200"> -->

    <!-- Header met logo/titel linksboven -->
    <div class="fixed left-6 top-4 z-50">
        <h1 class="one-favorite-title flex items-center gap-2">
            <span class="text-2xl">⭐</span>
            <span>One Favorite</span>
        </h1>
    </div>

    <!-- Toolbar rechtsboven met theme switcher en settings -->
    <div class="fixed right-4 top-4 z-50 flex items-center gap-2">
        <!-- Theme Switcher -->
        <button id="themeToggle" type="button"
            class="rounded-full p-2.5 text-gray-700 transition-all duration-200 hover:bg-white/90 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"
            aria-label="Toggle theme">
            <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5" fill="none"
                stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5" />
                <line x1="12" y1="1" x2="12" y2="3" />
                <line x1="12" y1="21" x2="12" y2="23" />
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                <line x1="1" y1="12" x2="3" y2="12" />
                <line x1="21" y1="12" x2="23" y2="12" />
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
            </svg>
            <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hidden h-5 w-5" fill="none"
                stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
            </svg>
        </button>

        <!-- Settings Button -->
        <button id="settingsBtn" type="button"
            class="rounded-full p-2.5 text-gray-700 transition-all duration-200 hover:bg-white/90 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"
            aria-label="Settings" aria-expanded="false" aria-controls="settingsModal">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                    d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
                <circle cx="12" cy="12" r="3" />
            </svg>
        </button>

        <!-- Workspaces Button (default hidden; enable via Settings) -->
        <button id="collectionsBtn" type="button"
            class="rounded-full p-2.5 text-gray-700 transition-all duration-200 hover:bg-white/90 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 hidden"
            aria-label="Workspaces" title="Workspaces (Ctrl+G)" aria-expanded="false" aria-controls="collectionsModal">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5" fill="none"
                stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z" />
            </svg>
        </button>

        <!-- Apps Visibility Toggle -->
        <button id="appsVisibilityToggle" type="button"
            class="rounded-full p-2.5 text-gray-700 transition-all duration-200 hover:bg-white/90 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"
            aria-label="Toggle apps visibility (Ctrl+H)" title="Toggle apps visibility (Ctrl+H)">
            <svg id="eyeOpenIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                <circle cx="12" cy="12" r="3" />
            </svg>
            <svg id="eyeClosedIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hidden h-5 w-5"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path
                    d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24" />
                <line x1="1" y1="1" x2="23" y2="23" />
            </svg>
        </button>

        <!-- Waffel icoon button -->
        <button id="appMenuBtn" type="button"
            class="group relative rounded-full p-2.5 text-gray-700 transition-all duration-200 hover:bg-white/90 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2"
            aria-label="Fav Apps" aria-expanded="false" aria-controls="appMenu">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5" fill="currentColor"
                aria-hidden="true">
                <circle cx="5" cy="5" r="2" />
                <circle cx="12" cy="5" r="2" />
                <circle cx="19" cy="5" r="2" />
                <circle cx="5" cy="12" r="2" />
                <circle cx="12" cy="12" r="2" />
                <circle cx="19" cy="12" r="2" />
                <circle cx="5" cy="19" r="2" />
                <circle cx="12" cy="19" r="2" />
                <circle cx="19" cy="19" r="2" />
            </svg>
        </button>

        <!-- Dropdown Menu -->
        <div id="appMenu"
            class="absolute right-0 top-full mt-3 hidden w-[400px] origin-top-right animate-in fade-in slide-in-from-top-2 duration-200">
            <div
                class="rounded-2xl border border-gray-200/80 bg-white shadow-2xl ring-1 ring-black/5 dark:border-gray-700 dark:bg-gray-800">
                <!-- Header met titel, counter en acties -->
                <div class="border-b border-gray-100 px-5 py-4 dark:border-gray-700">
                    <div class="flex items-center justify-between">
                        <p class="text-sm font-semibold text-gray-800 dark:text-gray-100">Loading...</p>
                        <div class="flex items-center gap-2">
                            <span id="appCounter" class="text-xs text-gray-500 dark:text-gray-400"></span>
                            <button id="addCustomApp" type="button"
                                class="rounded-lg p-1.5 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 dark:hover:bg-gray-700 dark:hover:text-gray-300"
                                title="Voeg custom app toe (Ctrl+N)">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                    stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19" />
                                    <line x1="5" y1="12" x2="19" y2="12" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Zoekbalk met keyboard hint -->
                <div class="border-b border-gray-100 px-5 py-3 dark:border-gray-700">
                    <div class="relative">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                            class="absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400">
                            <path d="M21 21l-4.35-4.35m1.6-5.4a7 7 0 11-14 0 7 7 0 0114 0z" fill="none"
                                stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        <input type="text" id="appSearch" placeholder="Zoek apps... (Ctrl+K)"
                            class="w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-9 pr-16 text-sm placeholder:text-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 dark:focus:border-blue-400 dark:focus:bg-gray-600" />
                        <kbd
                            class="absolute right-3 top-1/2 -translate-y-1/2 rounded bg-gray-200 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-gray-600 dark:text-gray-300">⌘K</kbd>

                        <!-- Autocomplete Dropdown -->
                        <div id="autocompleteDropdown"
                            class="hidden absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 max-h-80 overflow-y-auto z-50">
                            <div id="autocompleteResults" class="py-1">
                                <!-- Results komen hier -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Category Filter -->
                <div class="border-b border-gray-100 px-5 py-3 dark:border-gray-700 relative group">
                    <!-- Linker scroll button -->
                    <button id="scrollLeftMenuBtn" type="button"
                        class="absolute left-2 top-1/2 -translate-y-1/2 z-10 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 hidden"
                        aria-label="Scroll left">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-gray-700 dark:text-gray-300"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>

                    <!-- Rechter scroll button -->
                    <button id="scrollRightMenuBtn" type="button"
                        class="absolute right-2 top-1/2 -translate-y-1/2 z-10 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 hidden"
                        aria-label="Scroll right">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-gray-700 dark:text-gray-300"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </button>

                    <div class="category-filter-container flex gap-2 overflow-x-auto pb-1 scroll-smooth"
                        id="categoryFilter">
                        <button data-category="all"
                            class="category-btn active whitespace-nowrap rounded-full bg-blue-500 px-3 py-1 text-xs font-medium text-white transition">
                            Alle
                        </button>
                        <!-- Categorieën worden dynamisch geladen -->
                    </div>
                </div>

                <!-- Workspaces Section -->
                <div id="collectionsSection" class="hidden border-b border-gray-100 px-5 py-3 dark:border-gray-700">
                    <p class="mb-2 text-xs font-semibold text-gray-500 dark:text-gray-400">🎯 Workspaces</p>
                    <div id="collectionsQuickAccess" class="space-y-2">
                        <!-- Workspaces worden hier dynamisch geladen -->
                    </div>
                </div>

                <!-- Pinned Apps Section -->
                <div id="pinnedSection" class="hidden border-b border-gray-100 px-4 py-3 dark:border-gray-700">
                    <p class="mb-2 text-xs font-semibold text-gray-500 dark:text-gray-400">📌 Vastgepind</p>
                    <div id="pinnedApps" class="grid grid-cols-4 gap-2">
                        <!-- Gepinde apps komen hier -->
                    </div>
                </div>

                <!-- Apps Grid -->
                <div id="appsGrid" class="grid grid-cols-4 gap-3 px-4 py-4"
                    style="max-height: 400px; overflow-y: auto;">
                    <!-- Apps worden hier dynamisch geladen -->
                    <div class="col-span-4 py-8 text-center">
                        <div
                            class="inline-block h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-blue-600">
                        </div>
                    </div>
                </div>

                <!-- Dropzone for external links -->
                <div id="linkDropzone"
                    class="mx-5 mb-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center transition-all duration-200 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/10">
                    <div class="flex flex-col items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-400 dark:text-gray-500"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                        <div>
                            <p class="text-sm font-medium text-gray-700 dark:text-gray-300">Sleep een link hierheen</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Om een nieuwe app toe te voegen</p>
                        </div>
                    </div>
                </div>

                <!-- Footer met opties -->
                <div class="border-t border-gray-100 px-5 py-3 dark:border-gray-700">
                    <div class="flex gap-2">
                        <button id="exportConfig" type="button"
                            class="flex flex-1 items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm text-gray-600 transition hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                <polyline points="7 10 12 15 17 10" />
                                <line x1="12" y1="15" x2="12" y2="3" />
                            </svg>
                            Export
                        </button>
                        <button id="importConfig" type="button"
                            class="flex flex-1 items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm text-gray-600 transition hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                <polyline points="17 8 12 3 7 8" />
                                <line x1="12" y1="3" x2="12" y2="15" />
                            </svg>
                            Import
                        </button>
                        <button id="resetOrder" type="button"
                            class="flex flex-1 items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm text-gray-600 transition hover:bg-gray-50 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4" fill="none"
                                stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M21 3v5h-5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Reset
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom App Modal -->
    <div id="customAppModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl dark:bg-gray-800">
            <h3 class="mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100">Voeg Custom App Toe</h3>
            <form id="customAppForm" class="space-y-4">
                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">App Naam</label>
                    <input type="text" id="customAppName" required
                        class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
                        placeholder="Mijn App" />
                </div>
                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">URL</label>
                    <input type="url" id="customAppUrl" required
                        class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
                        placeholder="https://example.com" />
                </div>
                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Categorie</label>
                    <select id="customAppCategory"
                        class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100">
                        <option value="favorieten">⭐ Favorieten</option>
                        <option value="ai-tools">🤖 AI-tools</option>
                        <option value="ai-agents">🧠 AI-agents</option>
                        <option value="microsoft-365">🏢 Microsoft 365</option>
                        <option value="windows">🪟 Windows</option>
                        <option value="social-media">💻 Social media</option>
                        <option value="custom">📦 Custom</option>
                    </select>
                </div>
                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Tags
                        (optioneel)</label>
                    <input type="text" id="customAppTags"
                        class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
                        placeholder="email, work, google (gescheiden door komma's)" />
                    <div id="tagSuggestions" class="mt-2 flex flex-wrap gap-1"></div>
                </div>
                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Kleur</label>
                    <div class="grid grid-cols-6 gap-2">
                        <button type="button" data-color="red"
                            class="color-picker h-8 w-8 rounded-full bg-red-100 ring-2 ring-transparent hover:ring-red-500"></button>
                        <button type="button" data-color="blue"
                            class="color-picker h-8 w-8 rounded-full bg-blue-100 ring-2 ring-transparent hover:ring-blue-500"></button>
                        <button type="button" data-color="green"
                            class="color-picker h-8 w-8 rounded-full bg-green-100 ring-2 ring-transparent hover:ring-green-500"></button>
                        <button type="button" data-color="yellow"
                            class="color-picker h-8 w-8 rounded-full bg-yellow-100 ring-2 ring-transparent hover:ring-yellow-500"></button>
                        <button type="button" data-color="purple"
                            class="color-picker h-8 w-8 rounded-full bg-purple-100 ring-2 ring-transparent hover:ring-purple-500"></button>
                        <button type="button" data-color="pink"
                            class="color-picker h-8 w-8 rounded-full bg-pink-100 ring-2 ring-transparent hover:ring-pink-500"></button>
                    </div>
                </div>
                <div class="flex gap-2 pt-2">
                    <button type="button" id="cancelCustomApp"
                        class="flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">
                        Annuleer
                    </button>
                    <button type="submit"
                        class="flex-1 rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-600">
                        Toevoegen
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl dark:bg-gray-800">
            <h3 class="mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100">Instellingen</h3>
            <div class="space-y-4">
                <div>
                    <h4 class="mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">Weergave</h4>
                    <div class="space-y-3">
                        <label class="flex items-center justify-between cursor-pointer">
                            <span class="text-sm text-gray-600 dark:text-gray-400">Gebruik echte app icons</span>
                            <div class="relative">
                                <input type="checkbox" id="useFaviconsToggle" class="sr-only peer">
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </label>
                        <input id="appsJsonUploader" type="file" accept="application/json" class="hidden" />
                        <label class="flex items-center justify-between cursor-pointer">
                            <span class="text-sm text-gray-600 dark:text-gray-400">Toon Workspaces</span>
                            <div class="relative">
                                <input type="checkbox" id="showWorkspacesToggle" class="sr-only peer">
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </label>
                        <label class="flex items-center justify-between cursor-pointer">
                            <span class="text-sm text-gray-600 dark:text-gray-400">Toon tags op apps</span>
                            <div class="relative">
                                <input type="checkbox" id="showTagsToggle" class="sr-only peer">
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </label>
                        <label class="flex items-center justify-between cursor-pointer">
                            <span cla@ss="text-sm text-gray-600 dark:text-gray-400">Highlight zoekresultaten</span>
                            <div class="relative">
                                <input type="checkbox" id="highlightSearchToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </label>
                    </div>
                </div>
                <!-- Search Engines settings (collapsed by default) -->
                <details class="mt-2">
                    <summary class="cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300">Zoekmachines /
                        AI-modi (geavanceerd)</summary>
                    <div class="mt-2">
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">Beheer zoekmachines en AI-modi (prefix,
                            naam, url, icoon). Aangepaste items worden lokaal opgeslagen.</p>
                        <div class="flex items-center justify-between mb-2">
                            <div></div>
                            <div>
                                <button id="resetSearchEnginesBtn" type="button"
                                    class="inline-flex items-center gap-2 rounded-md bg-gray-200 px-2 py-1 text-sm">Reset
                                    naar standaard</button>
                            </div>
                        </div>
                        <div id="searchEnginesList" class="space-y-2 max-h-40 overflow-auto mb-2"></div>
                        <form id="addSearchEngineForm" class="grid grid-cols-4 gap-2 items-center">
                            <input id="sePrefix" placeholder="prefix (bijv. g:)"
                                class="col-span-1 w-full rounded-md border px-2 py-1 text-sm" />
                            <input id="seName" placeholder="naam"
                                class="col-span-1 w-full rounded-md border px-2 py-1 text-sm" />
                            <input id="seUrl" placeholder="zoek URL (e.g. https://...q=)"
                                class="col-span-1 w-full rounded-md border px-2 py-1 text-sm" />
                            <input id="seIcon" placeholder="icoon (emoji)"
                                class="col-span-1 w-full rounded-md border px-2 py-1 text-sm" />
                            <div class="col-span-4 text-right">
                                <button id="addSearchEngineBtn" type="button"
                                    class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-3 py-1 text-sm text-white">Toevoegen</button>
                            </div>
                        </form>
                    </div>
                </details>
                <div>
                    <h4 class="mb-3 text-sm font-medium text-gray-700 dark:text-gray-300">Grid Grootte</h4>
                    <div class="space-y-2">
                        <label class="flex items-center cursor-pointer group">
                            <input type="radio" name="gridSize" value="small"
                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            <span
                                class="ml-3 text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-gray-200">Klein
                                (6 kolommen) - Compact</span>
                        </label>
                        <label class="flex items-center cursor-pointer group">
                            <input type="radio" name="gridSize" value="medium"
                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                checked>
                            <span
                                class="ml-3 text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-gray-200">Medium
                                (4 kolommen) - Standaard</span>
                        </label>
                        <label class="flex items-center cursor-pointer group">
                            <input type="radio" name="gridSize" value="large"
                                class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
                            <span
                                class="ml-3 text-sm text-gray-600 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-gray-200">Groot
                                (3 kolommen) - Ruim</span>
                        </label>
                    </div>
                </div>

                <!-- Enhanced Features Section -->
                <details class="mt-2">
                    <summary class="cursor-pointer text-sm font-medium text-gray-700 dark:text-gray-300">
                        ✨ Geavanceerde Features
                    </summary>
                    <div class="mt-3 space-y-2 max-h-96 overflow-y-auto">
                        <!-- Zoek & Filter Features -->
                        <div class="mb-3">
                            <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">🔍 Zoek & Filter</p>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Fuzzy Search</div>
                                    <div class="feature-toggle-description">Slimme zoekfunctie (gml → Gmail)</div>
                                </div>
                                <input type="checkbox" id="fuzzySearchToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Tag Filtering</div>
                                    <div class="feature-toggle-description">Filter op meerdere tags tegelijk</div>
                                </div>
                                <input type="checkbox" id="tagFilteringToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Recent Searches</div>
                                    <div class="feature-toggle-description">Toon recent gezochte apps</div>
                                </div>
                                <input type="checkbox" id="recentSearchesToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Smart Suggestions</div>
                                    <div class="feature-toggle-description">AI-achtige suggesties op basis van gedrag
                                    </div>
                                </div>
                                <input type="checkbox" id="smartSuggestionsToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </div>

                        <!-- Visuele Feedback -->
                        <div class="mb-3">
                            <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">🎨 Visuele Feedback
                            </p>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Recent Badge</div>
                                    <div class="feature-toggle-description">Toon 🔥 op recent gebruikte apps</div>
                                </div>
                                <input type="checkbox" id="recentBadgeToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Usage Counter</div>
                                    <div class="feature-toggle-description">Toon hoe vaak app is geopend</div>
                                </div>
                                <input type="checkbox" id="usageCounterToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Enhanced Hover</div>
                                    <div class="feature-toggle-description">Lift effect op hover</div>
                                </div>
                                <input type="checkbox" id="hoverEffectsToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </div>

                        <!-- Homepage Features -->
                        <div class="mb-3">
                            <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">🏠 Homepage</p>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Most Used Section</div>
                                    <div class="feature-toggle-description">Toon meest gebruikte apps</div>
                                </div>
                                <input type="checkbox" id="mostUsedToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Usage Statistics</div>
                                    <div class="feature-toggle-description">Toon gebruiksstatistieken</div>
                                </div>
                                <input type="checkbox" id="usageStatsToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </div>

                        <!-- Productiviteit -->
                        <div class="mb-3">
                            <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">⚡ Productiviteit</p>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Quick Launch Shortcuts</div>
                                    <div class="feature-toggle-description">Alt+1 t/m Alt+9 voor snelle launch</div>
                                </div>
                                <input type="checkbox" id="quickLaunchToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">App Notes</div>
                                    <div class="feature-toggle-description">Voeg notities toe aan apps</div>
                                </div>
                                <input type="checkbox" id="appNotesToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </div>

                        <!-- Data & Analytics -->
                        <div class="mb-3">
                            <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">📊 Data & Analytics
                            </p>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Track App Usage</div>
                                    <div class="feature-toggle-description">Verzamel gebruiksstatistieken</div>
                                </div>
                                <input type="checkbox" id="trackUsageToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>

                            <div class="feature-toggle">
                                <div class="feature-toggle-label">
                                    <div class="feature-toggle-title">Auto Backup</div>
                                    <div class="feature-toggle-description">Automatische backups</div>
                                </div>
                                <input type="checkbox" id="autoBackupToggle" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600">
                                </div>
                            </div>
                        </div>

                        <!-- Reset Features -->
                        <div class="mt-4 pt-3 border-t border-gray-200 dark:border-gray-700">
                            <button type="button" id="resetFeaturesBtn"
                                class="w-full rounded-lg bg-gray-200 dark:bg-gray-700 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 transition hover:bg-gray-300 dark:hover:bg-gray-600">
                                Reset Features naar Standaard
                            </button>
                        </div>
                    </div>
                </details>

                <!-- Drag & Drop Help Section -->
                <details class="rounded-lg border border-gray-200 dark:border-gray-700">
                    <summary
                        class="cursor-pointer p-3 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700">
                        🎯 Drag & Drop Hulp
                    </summary>
                    <div
                        class="border-t border-gray-200 dark:border-gray-700 p-3 text-sm text-gray-600 dark:text-gray-400">
                        <div class="space-y-3">
                            <div>
                                <h5 class="font-medium text-gray-700 dark:text-gray-300 mb-1">🎯 Universeel Gebruik:
                                </h5>
                                <ul class="space-y-1 text-xs">
                                    <li>• <strong>Gewoon slepen:</strong> Maakt altijd een desktop shortcut</li>
                                    <li>• <strong>Werkt op alle apparaten:</strong> Desktop, laptop, tablet, mobiel</li>
                                    <li>• <strong>Geen speciale toetsen:</strong> Simpel slepen is genoeg</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-medium text-gray-700 dark:text-gray-300 mb-1">� Desktop/Laptop:</h5>
                                <ul class="space-y-1 text-xs">
                                    <li>• <strong>Normal slepen:</strong> Apps herordenen</li>
                                    <li>• <strong>Binnen app grid:</strong> Sleep apps om volgorde te wijzigen</li>
                                    <li>• <strong>SortableJS:</strong> Handelt herordenen automatisch af</li>
                                </ul>
                            </div>
                            <div
                                class="mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-200 dark:border-blue-800">
                                <p class="text-xs text-blue-700 dark:text-blue-300">
                                    💡 <strong>Tip:</strong> Simpel slepen werkt nu op alle apparaten zonder speciale
                                    toetsen!
                                </p>
                            </div>
                        </div>
                    </div>
                </details>

                <!-- Sneltoetsen section removed per user request -->
                <button type="button" id="closeSettings"
                    class="w-full rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-600">
                    Sluiten
                </button>
            </div>
        </div>
    </div>

    <!-- Workspaces Modal -->
    <div id="collectionsModal"
        class="fixed inset-0 z-50 hidden items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="w-full max-w-3xl rounded-2xl bg-white p-6 shadow-2xl dark:bg-gray-800"
            style="max-height: 90vh; overflow-y: auto;">
            <div class="mb-6 flex items-center justify-between">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">🎯 Workspaces</h3>
                <button id="createCollectionBtn" type="button"
                    class="rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-600">
                    + Nieuwe Workspace
                </button>
            </div>

            <!-- Workspaces List -->
            <div id="collectionsList" class="space-y-4">
                <!-- Workspaces worden hier dynamisch geladen -->
            </div>

            <div class="mt-6 flex justify-end">
                <button type="button" id="closeCollections"
                    class="rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">
                    Sluiten
                </button>
            </div>
        </div>
    </div>

    <!-- Create/Edit Workspace Modal -->
    <div id="collectionFormModal"
        class="fixed inset-0 z-[60] hidden items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl dark:bg-gray-800">
            <h3 class="mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100" id="collectionFormTitle">Nieuwe
                Workspace</h3>
            <form id="collectionForm" class="space-y-4">
                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Collection
                        Naam</label>
                    <input type="text" id="collectionName" required
                        class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
                        placeholder="Bijv. Morning Routine, Work Tools" />
                </div>

                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Beschrijving
                        (optioneel)</label>
                    <textarea id="collectionDescription" rows="2"
                        class="w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100"
                        placeholder="Wat is het doel van deze collection?"></textarea>
                </div>

                <div>
                    <label class="mb-1 block text-sm font-medium text-gray-700 dark:text-gray-300">Kleur</label>
                    <div class="grid grid-cols-8 gap-2">
                        <button type="button" data-collection-color="blue"
                            class="collection-color-picker h-10 w-10 rounded-full bg-blue-500 ring-2 ring-transparent hover:ring-blue-600"
                            title="Blauw"></button>
                        <button type="button" data-collection-color="purple"
                            class="collection-color-picker h-10 w-10 rounded-full bg-purple-500 ring-2 ring-transparent hover:ring-purple-600"
                            title="Paars"></button>
                        <button type="button" data-collection-color="pink"
                            class="collection-color-picker h-10 w-10 rounded-full bg-pink-500 ring-2 ring-transparent hover:ring-pink-600"
                            title="Roze"></button>
                        <button type="button" data-collection-color="red"
                            class="collection-color-picker h-10 w-10 rounded-full bg-red-500 ring-2 ring-transparent hover:ring-red-600"
                            title="Rood"></button>
                        <button type="button" data-collection-color="orange"
                            class="collection-color-picker h-10 w-10 rounded-full bg-orange-500 ring-2 ring-transparent hover:ring-orange-600"
                            title="Oranje"></button>
                        <button type="button" data-collection-color="yellow"
                            class="collection-color-picker h-10 w-10 rounded-full bg-yellow-500 ring-2 ring-transparent hover:ring-yellow-600"
                            title="Geel"></button>
                        <button type="button" data-collection-color="green"
                            class="collection-color-picker h-10 w-10 rounded-full bg-green-500 ring-2 ring-transparent hover:ring-green-600"
                            title="Groen"></button>
                        <button type="button" data-collection-color="teal"
                            class="collection-color-picker h-10 w-10 rounded-full bg-teal-500 ring-2 ring-transparent hover:ring-teal-600"
                            title="Turquoise"></button>
                    </div>
                </div>

                <div>
                    <label class="mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300">Selecteer
                        Apps</label>
                    <div class="max-h-64 overflow-y-auto rounded-lg border border-gray-300 p-3 dark:border-gray-600">
                        <div id="appSelectionList" class="grid grid-cols-2 gap-2">
                            <!-- App checkboxes worden hier dynamisch geladen -->
                        </div>
                    </div>
                </div>

                <div class="flex gap-2 pt-2">
                    <button type="button" id="cancelCollection"
                        class="flex-1 rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700">
                        Annuleer
                    </button>
                    <button type="submit"
                        class="flex-1 rounded-lg bg-blue-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-600">
                        Opslaan
                    </button>
                </div>
            </form>
        </div>
    </div>

    <main class="mx-auto max-w-5xl px-6 py-16">
        <!-- Wrapper om de zoekbalk te centreren -->
        <div class="mx-auto max-w-3xl">
            <!-- Zoekbalk -->
            <div class="relative flex items-center gap-2 rounded-full border border-gray-200 bg-white px-4 py-3 shadow-sm transition ring-0 focus-within:border-gray-300 focus-within:shadow-md"
                role="search" aria-label="Zoekbalk">
                <!-- Vergrootglas links -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"
                    class="h-5 w-5 flex-none text-gray-400">
                    <path d="M21 21l-4.35-4.35m1.6-5.4a7 7 0 11-14 0 7 7 0 0114 0z" fill="none" stroke="currentColor"
                        stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                </svg>

                <!-- Invoerveld -->
                <input type="text" id="homePageSearch" placeholder="Zoek in al je apps, favorieten en meer."
                    class="w-full appearance-none bg-transparent text-[15px] text-gray-900 placeholder:text-gray-400 focus:outline-none" />

                <!-- Autocomplete Dropdown for homepage -->
                <div id="homePageAutocomplete"
                    class="hidden absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto z-50">
                    <div id="homePageAutocompleteResults" class="py-1">
                        <!-- Results komen hier -->
                    </div>
                </div>

                <!-- Rechter iconen -->
                <div class="flex items-center gap-3">
                    <!-- Microfoon -->
                    <!-- <button type="button"
                            class="rounded-full p-1.5 text-gray-500 transition hover:bg-gray-50 hover:text-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500/50"
                            aria-label="Zoeken met spraak">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-5 w-5"
                                aria-hidden="true">
                                <path d="M12 4a3 3 0 00-3 3v6a3 3 0 006 0V7a3 3 0 00-3-3zM5 11a7 7 0 0014 0m-7 7v2"
                                    fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button> -->

                    <!-- AI-modus pill -->
                    <button type="button" id="aiModeBtn"
                        class="inline-flex items-center gap-1.5 rounded-full border border-gray-200 bg-gray-50 px-3 py-1.5 text-sm font-medium text-gray-700 shadow-sm transition hover:border-gray-300 hover:bg-white hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500/50 cursor-pointer"
                        aria-label="AI-modus" title="Klik om te wisselen tussen AI platforms">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4 text-gray-600"
                            aria-hidden="true">
                            <path d="M12 5v4l3-3M12 19v-4l-3 3M5 12h4l-3-3m13 3h-4l3 3" fill="none"
                                stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                        <span class="leading-none font-semibold">🤖 ChatGPT</span>
                    </button>
                </div>
            </div>

            <!-- Search shortcuts hint 
            <div class="mt-3 text-center">
                <p class="text-xs text-gray-500 dark:text-gray-400">
                    💡 Klik <strong>AI‑modus</strong> om snel te schakelen tussen AI‑platforms.
                    Gebruik ook shortcuts zoals
                    <code class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded">g:</code>
                    (Google), <code class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded">yt:</code>
                    (YouTube) of <code class="px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded">gpt:</code>
                    (ChatGPT).
                </p>
            </div> -->

            <!-- Fav Apps Geïntegreerd op Homepage -->
            <div class="mt-2">
                <!-- Category Filter -->
                <div class="mb-4 relative group">
                    <!-- Linker scroll button -->
                    <button id="scrollLeftHomeBtn" type="button"
                        class="absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 rounded-full p-1.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 hidden"
                        aria-label="Scroll left">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-700 dark:text-gray-300"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>

                    <!-- Rechter scroll button -->
                    <button id="scrollRightHomeBtn" type="button"
                        class="absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white/90 dark:bg-gray-800/90 hover:bg-white dark:hover:bg-gray-800 rounded-full p-1.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 hidden"
                        aria-label="Scroll right">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-700 dark:text-gray-300"
                            fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </button>

                    <div id="chipRow" class="flex gap-2 overflow-x-auto scrollbar-none pb-1">
                        <button data-category="all"
                            class="homepage-chip-btn active shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors bg-sky-100 dark:bg-sky-900/30 border-sky-300 dark:border-sky-700 text-sky-700 dark:text-sky-300 font-medium">Alle</button>
                        <button data-category="ai-tools"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">AI-tools</button>
                        <button data-category="ai-agents"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">🧠
                            AI-agents</button>
                        <button data-category="social-media"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">Social
                            Media</button>
                        <button data-category="microsoft-365"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">🏢
                            M365</button>
                        <button data-category="favorieten"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">⭐
                            Favorieten</button>
                        <button data-category="windows"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">�
                            Windows</button>
                        <button data-category="custom"
                            class="homepage-chip-btn shrink-0 text-xs px-3 py-1.5 rounded-full border bg-white hover:bg-gray-50 dark:bg-slate-800 dark:hover:bg-slate-700 dark:border-slate-600 transition-colors">📦
                            Custom</button>
                    </div>

                    <!-- Scroll indicator dots -->
                    <div class="flex justify-center gap-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"
                        id="scrollIndicatorHome">
                        <!-- Dots worden dynamisch toegevoegd via JavaScript -->
                    </div>
                </div>

                <!-- Pinned Apps Section -->
                <div id="homePagePinnedSection" class="hidden mb-6">
                    <div id="homePagePinnedApps" class="grid grid-cols-4 gap-3 sm:grid-cols-5 px-4">
                        <!-- Gepinde apps komen hier -->
                    </div>
                </div>

                <!-- Apps Grid - v2.html styling -->
                <main class="mx-auto w-full max-w-md flex-1 px-4 py-4">
                    <div id="homePageAppsGrid" class="grid grid-cols-4 gap-3 sm:grid-cols-5">
                        <!-- Apps worden hier dynamisch geladen -->
                        <div class="col-span-4 sm:col-span-5 py-8 text-center">
                            <div
                                class="inline-block h-6 w-6 animate-spin rounded-full border-2 border-gray-300 border-t-blue-600">
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <!-- Extra: smalle variant voorbeeld 
        <p class="mt-6 text-center text-sm text-gray-500">Tip: pas padding/spacing aan voor kleinere varianten.</p> -->
        </div>
    </main>
    
    <!-- v2.html Empty State Template -->
    <template id="tplEmpty">
        <div class="text-center text-gray-500 text-sm py-16">
            Nog geen favorieten. Tik op <span class="font-medium">Toevoegen</span> om te starten ✨
        </div>
    </template>

    <!-- Command Palette Modal -->
    <div id="commandPalette"
        class="fixed inset-0 z-[70] hidden items-center justify-center bg-black/50 backdrop-blur-sm">
        <div class="w-full max-w-2xl mx-4">
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden">
                <!-- Search Input -->
                <div class="flex items-center gap-3 px-4 py-3 border-b border-gray-200 dark:border-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input type="text" id="commandPaletteInput" placeholder="Type a command or search apps..."
                        class="flex-1 bg-transparent text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:outline-none text-lg"
                        autocomplete="off" />
                    <kbd
                        class="hidden sm:inline-block px-2 py-1 text-xs font-semibold text-gray-500 bg-gray-100 dark:bg-gray-700 dark:text-gray-400 rounded">ESC</kbd>
                </div>

                <!-- Results -->
                <div id="commandPaletteResults" class="max-h-96 overflow-y-auto p-2">
                    <!-- Results will be inserted here -->
                </div>

                <!-- Footer -->
                <div
                    class="px-4 py-2 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400">
                    <div class="flex items-center gap-4">
                        <span class="flex items-center gap-1">
                            <kbd
                                class="px-1.5 py-0.5 bg-white dark:bg-gray-800 rounded border border-gray-300 dark:border-gray-600">↑↓</kbd>
                            Navigate
                        </span>
                        <span class="flex items-center gap-1">
                            <kbd
                                class="px-1.5 py-0.5 bg-white dark:bg-gray-800 rounded border border-gray-300 dark:border-gray-600">↵</kbd>
                            Select
                        </span>
                    </div>
                    <span>Ctrl+K to open</span>
                </div>
            </div>
        </div>

        <!-- Inline Favorites (under search bar) -->
        <div id="inlineFavsContainer" class="mt-3 max-w-3xl mx-auto hidden"></div>
    </div>

    <!-- Keyboard Shortcuts Hint -->
    <div id="keyboardHints" class="fixed bottom-6 right-6 z-50 transition-all duration-300 hidden">
        <div
            class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-4 backdrop-blur-sm">
            <div class="flex items-center justify-between mb-3">
                <div class="flex items-center gap-2">
                    <span class="text-lg">⌨️</span>
                    <span class="text-sm font-semibold text-gray-700 dark:text-gray-200">Shortcuts</span>
                </div>
                <button id="closeHints" title="Close shortcuts hint"
                    class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="space-y-2 text-xs">
                <div class="flex items-center justify-between gap-4">
                    <span class="text-gray-600 dark:text-gray-400">Apps Dashboard</span>
                    <kbd
                        class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs">Ctrl+Q</kbd>
                </div>
                <div class="flex items-center justify-between gap-4">
                    <span class="text-gray-600 dark:text-gray-400">Command Palette</span>
                    <kbd
                        class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs">Ctrl+K</kbd>
                </div>
                <div class="flex items-center justify-between gap-4">
                    <span class="text-gray-600 dark:text-gray-400">Toggle Menu</span>
                    <kbd
                        class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs">Ctrl+M</kbd>
                </div>
                <div class="flex items-center justify-between gap-4">
                    <span class="text-gray-600 dark:text-gray-400">New App</span>
                    <kbd
                        class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs">Ctrl+Shift+A</kbd>
                </div>
                <div class="flex items-center justify-between gap-4">
                    <span class="text-gray-600 dark:text-gray-400">Dark Mode</span>
                    <kbd
                        class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs">Ctrl+Shift+D</kbd>
                </div>
                <div class="flex items-center justify-between gap-4">
                    <span class="text-gray-600 dark:text-gray-400">Workspaces</span>
                    <kbd
                        class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded font-mono text-xs">Ctrl+G</kbd>
                </div>
            </div>
            <div class="mt-3 pt-3 border-t border-gray-200 dark:border-gray-700">
                <button id="toggleHintsSize"
                    class="text-xs text-blue-600 dark:text-blue-400 hover:underline w-full text-left">
                    Minimize
                </button>
            </div>
        </div>
    </div>

    <!-- Floating Action Button to show hints -->
    <button id="showHintsBtn"
        class="fixed bottom-6 right-6 z-50 hidden bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 group">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span
            class="absolute right-full mr-3 top-1/2 -translate-y-1/2 whitespace-nowrap bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
            Shortcuts
        </span>
    </button>
    <!-- Compact shortcuts tooltip (shows on hover/focus of showHintsBtn) -->
    <div id="compactHintsTooltip"
        class="fixed bottom-20 right-6 z-50 hidden w-48 rounded-md bg-gray-900 text-white text-xs p-2 shadow-lg">
        <div id="compactHintsContent" class="space-y-1"></div>
    </div>

    <!-- Apps Dashboard Widget (Links) -->
    <div id="appsDashboardWidget" class="fixed top-20 left-6 z-40 transition-all duration-300 hidden">
        <div
            class="bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95">
            <!-- Drag Handle -->
            <div id="dashboardDragHandle"
                class="flex items-center justify-between p-2 cursor-move hover:bg-gray-50 dark:hover:bg-gray-700 rounded-t-xl border-b border-gray-100 dark:border-gray-600">
                <h4 class="text-xs font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2">
                    <span>⌨️</span>
                    <span>Fav Apps</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-gray-400" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4" />
                    </svg>
                </h4>
                <div class="flex items-center gap-2">
                    <span id="dashboardAppCounter" class="text-xs text-gray-500 dark:text-gray-400"></span>
                    <button id="closeDashboard" title="Minimize widget"
                        class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Widget Content -->
            <div class="p-4">
                <!-- Category Filter voor widget -->
                <div class="mb-3">
                    <div class="category-filter-container flex gap-1 overflow-x-auto pb-1" id="dashboardCategoryFilter">
                        <button data-dashboard-category="all"
                            class="dashboard-category-btn active whitespace-nowrap rounded-full bg-blue-500 px-2 py-1 text-xs font-medium text-white transition">
                            Alle
                        </button>
                        <!-- Categorieën worden dynamisch geladen -->
                    </div>
                </div>

                <div id="dashboardAppsList" class="grid grid-cols-3 gap-2 min-w-[200px]">
                    <!-- Apps komen hier dynamisch (3x3 = 9 apps) -->
                    <div class="col-span-3 text-center py-4">
                        <p class="text-xs text-gray-400 dark:text-gray-500">Loading apps...</p>
                    </div>
                </div>
            </div>
        </div>
    </div> <!-- Context Menu -->
    <div id="contextMenu"
        class="fixed hidden z-[100] bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 py-1 min-w-[200px]">
        <button id="contextEdit"
            class="w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
            <span>Bewerken</span>
        </button>
        <button id="contextPin"
            class="w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
            </svg>
            <span id="contextPinText">Vastmaken</span>
        </button>
        <button id="contextAddToWorkspace"
            class="w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            <span>Aan Workspace toevoegen</span>
        </button>
        <button id="contextCopyUrl"
            class="w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
            <span>URL kopiëren</span>
        </button>
        <div class="border-t border-gray-200 dark:border-gray-600 my-1"></div>
        <button id="contextDelete"
            class="w-full px-4 py-2 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-3 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
            <span>Verwijderen</span>
        </button>
    </div>

    <!-- Minimal Footer -->
    <footer class="fixed bottom-2 left-2 text-xs text-gray-400 dark:text-gray-500 z-10">
        <p>
            Gemaakt door
            <a href="https://www.linkedin.com/in/remseymailjard/" target="_blank" rel="noopener noreferrer"
                class="text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 transition-colors">
                Remsey Mailjard
            </a>
            van
            <a href="https://www.skills4-it.nl" target="_blank" rel="noopener noreferrer"
                class="text-blue-500 hover:text-blue-600 dark:text-blue-400 dark:hover:text-blue-300 transition-colors">
                Skills4-IT
            </a>
        </p>
    </footer>

    <!-- Floating Action Button (FAB) om snel een app toe te voegen -->
    <button id="quickAddAppFAB" type="button"
        class="fixed bottom-6 right-6 z-40 flex h-14 w-14 items-center justify-center rounded-full bg-blue-500 text-white shadow-lg transition-all duration-200 hover:bg-blue-600 hover:scale-110 hover:shadow-2xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 group"
        aria-label="Voeg snel een app toe (Ctrl+N)" title="Voeg app toe (Ctrl+N)">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
            class="h-6 w-6 transition-transform group-hover:rotate-90" fill="none" stroke="currentColor"
            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="5" x2="12" y2="19" />
            <line x1="5" y1="12" x2="19" y2="12" />
        </svg>
        <!-- Tooltip -->
        <span
            class="absolute bottom-full right-0 mb-2 hidden group-hover:block whitespace-nowrap rounded-lg bg-gray-900 px-3 py-1.5 text-xs text-white shadow-lg dark:bg-gray-700">
            Voeg app toe (Ctrl+N)
            <span
                class="absolute top-full right-4 -mt-1 border-4 border-transparent border-t-gray-900 dark:border-t-gray-700"></span>
        </span>
    </button>

    <!-- External JavaScript -->
    <!-- Feature Configuration -->
    <script src="features-config.js"></script>

    <!-- Feature Modules -->
    <script src="modules/fuzzy-search.js"></script>
    <script src="modules/analytics2.js"></script>
    <script src="modules/search-filters.js"></script>
    <script src="modules/ui-enhancements.js"></script>

    <!-- Main Application Script (load after modules) -->
    <script src="script.js"></script>
</body>

</html>